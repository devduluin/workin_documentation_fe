{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["file:///C:/hrisguide/Frontend/src/app/component/Sidebar.js"],"sourcesContent":["\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { useState, useEffect } from \"react\";\r\n\r\nexport default function Sidebar() {\r\n  const pathname = usePathname();\r\n  const [openMenu, setOpenMenu] = useState(null);\r\n  const [menus, setMenus] = useState([]); // Mulai dari kosong\r\n\r\n  // Fetch kategori + dokumen, buat menus dinamis 100%\r\n  useEffect(() => {\r\n    async function fetchMenus() {\r\n      try {\r\n        const resCat = await fetch(\"http://localhost:5000/api/categories\");\r\n        const catData = await resCat.json();\r\n\r\n        if (catData.success && catData.data.length) {\r\n          const categories = catData.data;\r\n\r\n          const categoriesWithDocs = await Promise.all(\r\n            categories.map(async (cat) => {\r\n              const resDocs = await fetch(`http://localhost:5000/api/documents/category/${cat.id}`);\r\n              const docData = await resDocs.json();\r\n\r\n              return {\r\n                name: cat.name,\r\n                children: docData.success\r\n                  ? docData.data.map((doc) => ({\r\n                      name: doc.title,\r\n                      href: `/docs/${cat.id}/${doc.id}`, // Contoh URL dokumen\r\n                    }))\r\n                  : [],\r\n              };\r\n            })\r\n          );\r\n\r\n          setMenus(categoriesWithDocs); // Set menu langsung dari backend\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Fetch menus failed:\", error);\r\n      }\r\n    }\r\n\r\n    fetchMenus();\r\n  }, []);\r\n\r\n  // Buka otomatis menu jika salah satu child aktif\r\n  useEffect(() => {\r\n    menus.forEach((menu, idx) => {\r\n      if (\r\n        menu.children?.some(\r\n          (child) => child.href === pathname\r\n        )\r\n      ) {\r\n        setOpenMenu(idx);\r\n      }\r\n    });\r\n  }, [pathname, menus]);\r\n\r\n  return (\r\n    <div className=\"w-64 bg-gray-50 shadow flex flex-col sticky top-0 h-screen overflow-y-auto\">\r\n      {/* Header Sidebar */}\r\n      <div className=\"p-5 border-b border-gray-200 flex flex-col items-center justify-center text-center space-y-0\">\r\n        <img\r\n          src=\"/duluin-hrms.png\"\r\n          alt=\"Logo HRMS\"\r\n          className=\"w-28 h-auto object-contain -my-2 block\"\r\n        />\r\n        <h3 className=\"text-base font-bold text-gray-800 leading-tight mt-5\">\r\n          Documentation\r\n        </h3>\r\n      </div>\r\n\r\n      {/* Menu Items */}\r\n      <nav className=\"flex flex-col p-4 space-y-2\">\r\n        {menus.map((menu, idx) => (\r\n          <div key={menu.name}>\r\n            <button\r\n              onClick={() => setOpenMenu(openMenu === idx ? null : idx)}\r\n              className={`w-full text-left px-4 py-2 rounded-lg transition ${\r\n                openMenu === idx\r\n                  ? \"bg-blue-100 text-blue-600 font-semibold\"\r\n                  : \"text-gray-600 hover:bg-blue-50\"\r\n              }`}\r\n            >\r\n              {menu.name}\r\n            </button>\r\n            {menu.children && openMenu === idx && (\r\n              <div className=\"ml-6 mt-1 flex flex-col space-y-1\">\r\n                {menu.children.map((child) => (\r\n                  <Link\r\n                    key={child.href}\r\n                    href={child.href}\r\n                    className={`block px-3 py-1 rounded-md text-sm transition ${\r\n                      pathname === child.href\r\n                        ? \"bg-blue-100 text-blue-600 font-medium\"\r\n                        : \"text-gray-500 hover:bg-blue-50\"\r\n                    }`}\r\n                  >\r\n                    {child.name}\r\n                  </Link>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </nav>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC,EAAE,GAAG,oBAAoB;IAE5D,oDAAoD;IACpD,IAAA,kNAAS,EAAC;QACR,eAAe;YACb,IAAI;gBACF,MAAM,SAAS,MAAM,MAAM;gBAC3B,MAAM,UAAU,MAAM,OAAO,IAAI;gBAEjC,IAAI,QAAQ,OAAO,IAAI,QAAQ,IAAI,CAAC,MAAM,EAAE;oBAC1C,MAAM,aAAa,QAAQ,IAAI;oBAE/B,MAAM,qBAAqB,MAAM,QAAQ,GAAG,CAC1C,WAAW,GAAG,CAAC,OAAO;wBACpB,MAAM,UAAU,MAAM,MAAM,CAAC,6CAA6C,EAAE,IAAI,EAAE,EAAE;wBACpF,MAAM,UAAU,MAAM,QAAQ,IAAI;wBAElC,OAAO;4BACL,MAAM,IAAI,IAAI;4BACd,UAAU,QAAQ,OAAO,GACrB,QAAQ,IAAI,CAAC,GAAG,CAAC,CAAC,MAAQ,CAAC;oCACzB,MAAM,IAAI,KAAK;oCACf,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE,CAAC,CAAC,EAAE,IAAI,EAAE,EAAE;gCACnC,CAAC,KACD,EAAE;wBACR;oBACF;oBAGF,SAAS,qBAAqB,iCAAiC;gBACjE;YACF,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,uBAAuB;YACvC;QACF;QAEA;IACF,GAAG,EAAE;IAEL,iDAAiD;IACjD,IAAA,kNAAS,EAAC;QACR,MAAM,OAAO,CAAC,CAAC,MAAM;YACnB,IACE,KAAK,QAAQ,EAAE,KACb,CAAC,QAAU,MAAM,IAAI,KAAK,WAE5B;gBACA,YAAY;YACd;QACF;IACF,GAAG;QAAC;QAAU;KAAM;IAEpB,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBACC,KAAI;wBACJ,KAAI;wBACJ,WAAU;;;;;;kCAEZ,8OAAC;wBAAG,WAAU;kCAAuD;;;;;;;;;;;;0BAMvE,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,MAAM,oBAChB,8OAAC;;0CACC,8OAAC;gCACC,SAAS,IAAM,YAAY,aAAa,MAAM,OAAO;gCACrD,WAAW,CAAC,iDAAiD,EAC3D,aAAa,MACT,4CACA,kCACJ;0CAED,KAAK,IAAI;;;;;;4BAEX,KAAK,QAAQ,IAAI,aAAa,qBAC7B,8OAAC;gCAAI,WAAU;0CACZ,KAAK,QAAQ,CAAC,GAAG,CAAC,CAAC,sBAClB,8OAAC,uKAAI;wCAEH,MAAM,MAAM,IAAI;wCAChB,WAAW,CAAC,8CAA8C,EACxD,aAAa,MAAM,IAAI,GACnB,0CACA,kCACJ;kDAED,MAAM,IAAI;uCARN,MAAM,IAAI;;;;;;;;;;;uBAff,KAAK,IAAI;;;;;;;;;;;;;;;;AAiC7B","debugId":null}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///C:/hrisguide/Frontend/src/app/gettingstarted/page.js"],"sourcesContent":["\"use client\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport Sidebar from \"../component/Sidebar\";\r\n\r\nexport default function GettingStartedPage() {\r\n  const [content, setContent] = useState(\"\");\r\n  const [sections, setSections] = useState([]);\r\n  const [activeId, setActiveId] = useState(null);\r\n\r\n  const contentRef = useRef(null);\r\n  const mainRef = useRef(null);\r\n\r\n  // ðŸ”¹ Fetch data dari database\r\n  useEffect(() => {\r\n    fetch(\"/api/sections/2\")\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        // Tambahkan id otomatis ke setiap <h2>\r\n        const fixedContent = data.data.content.replace(\r\n          /<h2>(.*?)<\\/h2>/g,\r\n          (match, title) => {\r\n            const plainTitle = title.replace(/<[^>]+>/g, \"\").trim();\r\n            const id = plainTitle\r\n              .toLowerCase()\r\n              .replace(/[^a-z0-9]+/g, \"-\") // buang karakter aneh\r\n              .replace(/^-+|-+$/g, \"\"); // hapus \"-\" di awal/akhir\r\n            console.log(\"Creating ID for title:\", plainTitle, \"-> ID:\", id);\r\n            return `<h2 id=\"${id}\">${title}</h2>`;\r\n          }\r\n        );\r\n        setContent(fixedContent);\r\n      })\r\n      .catch((err) => console.error(\"Fetch error:\", err));\r\n  }, []);\r\n\r\n  // ðŸ”¹ Generate daftar isi setelah konten render\r\n  useEffect(() => {\r\n    if (!contentRef.current) return;\r\n\r\n    const observer = new MutationObserver(() => {\r\n      const headings = contentRef.current.querySelectorAll(\"h2[id]\");\r\n      if (headings.length > 0) {\r\n        const list = Array.from(headings).map((h) => ({\r\n          id: h.id,\r\n          title: h.textContent.trim(),\r\n        }));\r\n        setSections(list);\r\n        observer.disconnect();\r\n      }\r\n    });\r\n\r\n    observer.observe(contentRef.current, { childList: true, subtree: true });\r\n\r\n    return () => observer.disconnect();\r\n  }, [content]);\r\n\r\n  // ðŸ”¹ Intersection Observer untuk highlight aktif\r\n  useEffect(() => {\r\n    if (!contentRef.current || !mainRef.current) return;\r\n\r\n    const headings = contentRef.current.querySelectorAll(\"h2[id]\");\r\n    if (!headings.length) return;\r\n\r\n    const observer = new IntersectionObserver(\r\n      (entries) => {\r\n        const visible = entries\r\n          .filter((entry) => entry.isIntersecting)\r\n          .sort((a, b) => a.boundingClientRect.top - b.boundingClientRect.top);\r\n\r\n        if (visible.length > 0) {\r\n          const nextActive = visible[0].target.id;\r\n          if (nextActive !== activeId) {\r\n            console.log(\"Active heading changed to:\", nextActive);\r\n            setActiveId(nextActive);\r\n          }\r\n        }\r\n      },\r\n      {\r\n        root: mainRef.current, // scroll container\r\n        rootMargin: \"0px 0px -50% 0px\", // lebih sensitif\r\n        threshold: 0.2,\r\n      }\r\n    );\r\n\r\n    headings.forEach((h) => observer.observe(h));\r\n\r\n    return () => observer.disconnect();\r\n  }, [sections, activeId]);\r\n\r\n  return (\r\n    <div className=\"flex min-h-screen bg-white\">\r\n      {/* Sidebar kiri */}\r\n      <aside>\r\n        <Sidebar />\r\n      </aside>\r\n\r\n      {/* Konten utama */}\r\n      <main\r\n        ref={mainRef}\r\n        className=\"flex-1 p-6 md:p-10 overflow-y-auto scroll-smooth h-screen\"\r\n      >\r\n        <div\r\n          ref={contentRef}\r\n          className=\"prose max-w-none ql-editor\"\r\n          dangerouslySetInnerHTML={{ __html: content }}\r\n        />\r\n      </main>\r\n\r\n      {/* Sidebar kanan */}\r\n      <aside className=\"w-64 bg-gray-50 shadow sticky top-0 h-screen overflow-y-auto\">\r\n        <div className=\"p-4 border-b border-gray-200\">\r\n          <h3 className=\"text-lg font-bold text-gray-800\">Daftar Isi</h3>\r\n        </div>\r\n        <nav className=\"flex flex-col p-4 space-y-2\">\r\n          {sections.map((s) => (\r\n            <a\r\n              key={s.id}\r\n              href={`#${s.id}`}\r\n              className={`px-3 py-2 rounded-md transition scroll-smooth ${\r\n                activeId === s.id\r\n                  ? \"bg-blue-500 text-white font-semibold shadow-md\"\r\n                  : \"text-gray-600 hover:bg-blue-100 hover:text-blue-800\"\r\n              }`}\r\n            >\r\n              {s.title}\r\n            </a>\r\n          ))}\r\n        </nav>\r\n      </aside>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}