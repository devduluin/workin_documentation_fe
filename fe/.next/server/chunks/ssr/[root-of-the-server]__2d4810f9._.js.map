{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":["file:///C:/hrisguide/Frontend/src/app/dashboard2/components/SidebarItem.js"],"sourcesContent":["export default function SidebarItem({ submenu, isSelected, onClick }) {\r\n  return (\r\n    <button\r\n      onClick={onClick}\r\n      className={`w-full text-left px-3 py-1.5 rounded-md text-sm transition-colors duration-150 ${\r\n        isSelected\r\n          ? \"bg-blue-100 text-blue-700 font-medium\"\r\n          : \"text-gray-600 hover:bg-blue-50 hover:text-blue-600\"\r\n      }`}\r\n    >\r\n      {submenu.title}\r\n    </button>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAe,SAAS,YAAY,EAAE,OAAO,EAAE,UAAU,EAAE,OAAO,EAAE;IAClE,qBACE,8OAAC;QACC,SAAS;QACT,WAAW,CAAC,+EAA+E,EACzF,aACI,0CACA,sDACJ;kBAED,QAAQ,KAAK;;;;;;AAGpB","debugId":null}},
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///C:/hrisguide/Frontend/src/app/dashboard2/components/Sidebar.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport {\r\n  ChevronDown,\r\n  ChevronRight,\r\n  Plus,\r\n  Trash2,\r\n  X,\r\n  Pencil,\r\n} from \"lucide-react\";\r\nimport SidebarItem from \"./SidebarItem\";\r\n\r\nexport default function Sidebar({\r\n  menuData,\r\n  selected,\r\n  setSelected,\r\n  onAddMenu,\r\n  onDelete,\r\n  onRename,\r\n  onLogout, // Terima props onLogout\r\n}) {\r\n  const [activeMenu, setActiveMenu] = useState(null);\r\n  const [editingItem, setEditingItem] = useState(null); // { type: \"menu\" | \"submenu\", id }\r\n  const [newTitle, setNewTitle] = useState(\"\");\r\n\r\n  const toggleMenu = (menuId) => {\r\n    setActiveMenu(activeMenu === menuId ? null : menuId);\r\n  };\r\n\r\n  const handleRenameStart = (type, item) => {\r\n    setEditingItem({ type, id: item.id });\r\n    setNewTitle(item.title);\r\n  };\r\n\r\n  const handleRenameSubmit = async () => {\r\n    if (newTitle.trim() === \"\") return;\r\n    if (onRename) {\r\n      await onRename(editingItem, newTitle);\r\n    }\r\n    setEditingItem(null);\r\n    setNewTitle(\"\");\r\n  };\r\n\r\n  return (\r\n    <aside className=\"dashboard-sidebar\">\r\n      {/* ==== Header ==== */}\r\n      <div className=\"dashboard-sidebar-header\">\r\n        <img src=\"/duluin-hrms.png\" alt=\"Logo HRMS\" className=\"dashboard-logo\" />\r\n        <h3 className=\"dashboard-doc-title\">Documentation</h3>\r\n\r\n        <div className=\"dashboard-header-btns\">\r\n          <button onClick={onAddMenu} className=\"dashboard-add-btn\">\r\n            <Plus size={16} />\r\n            <span>Add</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ==== Menu Navigasi ==== */}\r\n      <nav className=\"dashboard-nav\">\r\n        {menuData.map((menu) => {\r\n          const subCount = menu.submenus?.length || 0;\r\n          const hasSubmenus = subCount > 1;\r\n          const singleDoc = subCount === 1;\r\n\r\n          return (\r\n            <div key={menu.id}>\r\n              <div className=\"flex justify-between items-center group\">\r\n                <button\r\n                  onClick={() => {\r\n                    if (hasSubmenus) toggleMenu(menu.id);\r\n                    else if (singleDoc)\r\n                      setSelected({ menu, submenu: menu.submenus[0] });\r\n                    else setSelected({ menu, submenu: null });\r\n                  }}\r\n                  className={`dashboard-menu-btn ${\r\n                    selected?.menu?.id === menu.id ? \"active\" : \"\"\r\n                  }`}\r\n                >\r\n                  {/* === Inline rename menu === */}\r\n                  {editingItem?.type === \"menu\" && editingItem.id === menu.id ? (\r\n                    <input\r\n                      value={newTitle}\r\n                      onChange={(e) => setNewTitle(e.target.value)}\r\n                      onBlur={handleRenameSubmit}\r\n                      onKeyDown={(e) => e.key === \"Enter\" && handleRenameSubmit()}\r\n                      className=\"border border-gray-300 rounded px-2 py-1 text-sm w-full\"\r\n                      autoFocus\r\n                    />\r\n                  ) : (\r\n                    <span>{menu.title}</span>\r\n                  )}\r\n\r\n                  {/* tampilkan panah cuma kalau punya lebih dari 1 dokumen */}\r\n                  {hasSubmenus &&\r\n                    (activeMenu === menu.id ? (\r\n                      <ChevronDown size={16} />\r\n                    ) : (\r\n                      <ChevronRight size={16} />\r\n                    ))}\r\n                </button>\r\n\r\n                <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition\">\r\n                  {/* ‚úèÔ∏è Rename Menu */}\r\n                  <button\r\n                    onClick={() => handleRenameStart(\"menu\", menu)}\r\n                    className=\"text-gray-400 hover:text-blue-500\"\r\n                  >\r\n                    <Pencil size={15} />\r\n                  </button>\r\n\r\n                  {/* üóëÔ∏è Delete Menu */}\r\n                  <button\r\n                    onClick={() => onDelete({ type: \"menu\", id: menu.id })}\r\n                    className=\"text-gray-400 hover:text-red-500\"\r\n                  >\r\n                    <Trash2 size={15} />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* === Submenu (kalau > 1) === */}\r\n              {hasSubmenus && activeMenu === menu.id && (\r\n                <div className=\"dashboard-submenu\">\r\n                  {menu.submenus.map((sub) => (\r\n                    <div\r\n                      key={sub.id}\r\n                      className=\"flex justify-between items-center group pl-3\"\r\n                    >\r\n                      {editingItem?.type === \"submenu\" &&\r\n                      editingItem.id === sub.id ? (\r\n                        <input\r\n                          value={newTitle}\r\n                          onChange={(e) => setNewTitle(e.target.value)}\r\n                          onBlur={handleRenameSubmit}\r\n                          onKeyDown={(e) =>\r\n                            e.key === \"Enter\" && handleRenameSubmit()\r\n                          }\r\n                          className=\"border border-gray-300 rounded px-2 py-1 text-sm w-full\"\r\n                          autoFocus\r\n                        />\r\n                      ) : (\r\n                        <SidebarItem\r\n                          submenu={sub}\r\n                          isSelected={selected?.submenu?.id === sub.id}\r\n                          onClick={() => setSelected({ menu, submenu: sub })}\r\n                        />\r\n                      )}\r\n\r\n                      <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition\">\r\n                        {/* ‚úèÔ∏è Rename Submenu */}\r\n                        <button\r\n                          onClick={() => handleRenameStart(\"submenu\", sub)}\r\n                          className=\"text-gray-400 hover:text-blue-500\"\r\n                        >\r\n                          <Pencil size={13} />\r\n                        </button>\r\n\r\n                        {/* ‚ùå Delete Submenu */}\r\n                        <button\r\n                          onClick={() =>\r\n                            onDelete({\r\n                              type: \"submenu\",\r\n                              menuId: menu.id,\r\n                              id: sub.id,\r\n                            })\r\n                          }\r\n                          className=\"text-gray-400 hover:text-red-500\"\r\n                        >\r\n                          <X size={13} />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </nav>\r\n\r\n      {/* ==== Logout ==== */}\r\n      <div className=\"mt-auto p-4 border-t border-gray-200\">\r\n        <button\r\n          onClick={onLogout} // ganti dari console.log ke onLogout\r\n          className=\"w-full flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white font-medium py-2 px-4 rounded-lg transition\"\r\n        >\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            fill=\"none\"\r\n            viewBox=\"0 0 24 24\"\r\n            strokeWidth={2}\r\n            stroke=\"currentColor\"\r\n            className=\"w-5 h-5\"\r\n          >\r\n            <path\r\n              strokeLinecap=\"round\"\r\n              strokeLinejoin=\"round\"\r\n              d=\"M15.75 9V5.25A2.25 2.25 0 0013.5 3h-6A2.25 2.25 0 005.25 5.25v13.5A2.25 2.25 0 007.5 21h6a2.25 2.25 0 002.25-2.25V15m3 0l3-3m0 0l-3-3m3 3H9\"\r\n            />\r\n          </svg>\r\n          Logout\r\n        </button>\r\n      </div>\r\n    </aside>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 457, "column": 0}, "map": {"version":3,"sources":["file:///C:/hrisguide/Frontend/src/app/dashboard2/components/DynamicContent.js"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useState, useRef, useEffect } from \"react\";\r\nimport dynamic from \"next/dynamic\";\r\nimport Swal from \"sweetalert2\";\r\nimport \"react-quill-new/dist/quill.snow.css\";\r\nimport \"./../../globals.css\";\r\n\r\nconst ReactQuill = dynamic(() => import(\"react-quill-new\"), { ssr: false });\r\n\r\nexport default function DynamicContent({ selected }) {\r\n  const [content, setContent] = useState(\"\");\r\n  const [title, setTitle] = useState(\"\");\r\n  const [sectionId, setSectionId] = useState(null);\r\n  const [rowsInput, setRowsInput] = useState(3);\r\n  const [colsInput, setColsInput] = useState(3);\r\n  const [loading, setLoading] = useState(false);\r\n  const [saving, setSaving] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const quillRef = useRef(null);\r\n\r\n  // üîπ Fetch content berdasarkan documentId\r\n  useEffect(() => {\r\n    const fetchContent = async () => {\r\n      if (!selected?.submenu) return;\r\n      setLoading(true);\r\n      setError(\"\");\r\n\r\n      try {\r\n        const res = await fetch(\r\n          `http://localhost:5000/api/sections/document/${selected.submenu.id}`\r\n        );\r\n\r\n        if (res.ok) {\r\n          const data = await res.json();\r\n\r\n          if (data.data && data.data.length > 0) {\r\n            const firstSection = data.data[0];\r\n            setSectionId(firstSection.id);\r\n            setContent(firstSection.content || \"\");\r\n            setTitle(firstSection.title || selected.submenu.title || \"\");\r\n          } else {\r\n            setSectionId(null);\r\n            setContent(\"\");\r\n            setTitle(selected.submenu.title || \"\");\r\n          }\r\n        } else {\r\n          throw new Error(\"Gagal memuat konten dari server.\");\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error fetching content:\", err);\r\n        setError(\"Terjadi kesalahan koneksi ke server.\");\r\n        setSectionId(null);\r\n        setContent(\"\");\r\n        setTitle(selected.submenu.title || \"\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchContent();\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n\r\n    return () => {\r\n      setContent(\"\");\r\n      setTitle(\"\");\r\n      setSectionId(null);\r\n    };\r\n  }, [selected]);\r\n\r\n  // üîπ Sisipkan video YouTube\r\n  const videoHandler = async () => {\r\n    const { value: url } = await Swal.fire({\r\n      title: \"Masukkan URL video YouTube\",\r\n      input: \"url\",\r\n      inputPlaceholder: \"https://www.youtube.com/watch?v=...\",\r\n      showCancelButton: true,\r\n      confirmButtonText: \"Sisipkan\",\r\n      cancelButtonText: \"Batal\",\r\n    });\r\n\r\n    if (url) {\r\n      const match = url.match(/(?:youtu\\.be\\/|youtube\\.com\\/watch\\?v=)([^&]+)/i);\r\n      if (match && match[1]) {\r\n        const embedUrl = `https://www.youtube.com/embed/${match[1]}`;\r\n        const editor = quillRef.current.getEditor();\r\n        const range = editor.getSelection(true);\r\n        editor.insertEmbed(range.index, \"video\", embedUrl, \"user\");\r\n        editor.setSelection(range.index + 1);\r\n      } else {\r\n        Swal.fire({\r\n          icon: \"error\",\r\n          title: \"URL tidak valid\",\r\n          text: \"Pastikan URL adalah video YouTube yang benar.\",\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  // üîπ Sisipkan tabel\r\n  const insertEditableTable = (rows, cols) => {\r\n    if (!quillRef.current) return;\r\n    const editor = quillRef.current.getEditor();\r\n    if (!editor) return;\r\n\r\n    let tableHtml =\r\n      '<table class=\"editable-table\" border=\"1\" cellpadding=\"4\" cellspacing=\"0\" style=\"border-collapse: collapse;\">';\r\n    for (let i = 0; i < rows; i++) {\r\n      tableHtml += \"<tr>\";\r\n      for (let j = 0; j < cols; j++) {\r\n        tableHtml += \"<td><br></td>\";\r\n      }\r\n      tableHtml += \"</tr>\";\r\n    }\r\n    tableHtml += \"</table><p><br></p>\";\r\n\r\n    editor.clipboard.dangerouslyPasteHTML(\r\n      editor.getSelection()?.index || 0,\r\n      tableHtml\r\n    );\r\n  };\r\n\r\n  // üîπ Simpan konten (buat/update)\r\n  const handleSave = async () => {\r\n    if (!selected?.submenu) return;\r\n    setSaving(true);\r\n\r\n    try {\r\n      const payload = {\r\n        title,\r\n        content,\r\n        documentId: selected.submenu.id, // ‚úÖ pakai documentId dari submenu\r\n      };\r\n\r\n      let response;\r\n      if (sectionId) {\r\n        // Update section\r\n        response = await fetch(\r\n          `http://localhost:5000/api/sections/${sectionId}`,\r\n          {\r\n            method: \"PUT\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            credentials: \"include\",\r\n            body: JSON.stringify(payload),\r\n          }\r\n        );\r\n      } else {\r\n        // Create section baru\r\n        response = await fetch(\"http://localhost:5000/api/sections\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          credentials: \"include\",\r\n          body: JSON.stringify(payload),\r\n        });\r\n      }\r\n\r\n      if (response.ok) {\r\n        const newData = await response.json();\r\n        if (!sectionId) setSectionId(newData.data.id);\r\n        Swal.fire({\r\n          icon: \"success\",\r\n          title: \"Sukses\",\r\n          text: \"Konten berhasil disimpan!\",\r\n          timer: 2000,\r\n          showConfirmButton: false,\r\n        });\r\n      } else {\r\n        throw new Error(\"Gagal menyimpan konten\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error saving content:\", error);\r\n      Swal.fire({\r\n        icon: \"error\",\r\n        title: \"Gagal\",\r\n        text: \"Terjadi kesalahan saat menyimpan konten.\",\r\n      });\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  // üîπ UI belum pilih dokumen\r\n  if (!selected?.submenu) {\r\n    return (\r\n      <div className=\"p-8 text-gray-500\">\r\n        Silakan pilih dokumen dari sidebar untuk mulai mengedit konten.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // üîπ UI Loading\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-[70vh] text-gray-500\">\r\n        Memuat konten...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-4 items-start w-full px-6 overflow-hidden\">\r\n      <h1 className=\"text-2xl font-bold text-gray-900\">\r\n        {selected.submenu?.title || \"Tanpa Judul\"}\r\n      </h1>\r\n\r\n      {error && <p className=\"text-red-500 text-sm\">{error}</p>}\r\n\r\n      {/* Input Judul */}\r\n      <div className=\"w-full\">\r\n        <label className=\"text-sm font-medium text-gray-700 block mb-1\">\r\n          Judul Konten\r\n        </label>\r\n        <input\r\n          type=\"text\"\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          className=\"w-full border rounded p-2 text-sm\"\r\n          placeholder=\"Masukkan judul konten\"\r\n        />\r\n      </div>\r\n\r\n      {/* Tombol Table & Clear */}\r\n      <div className=\"flex flex-wrap items-center gap-2\">\r\n        <label className=\"text-sm\">Rows</label>\r\n        <input\r\n          type=\"number\"\r\n          min={1}\r\n          max={12}\r\n          value={rowsInput}\r\n          onChange={(e) => setRowsInput(Number(e.target.value))}\r\n          className=\"w-20 border rounded p-1 text-sm\"\r\n        />\r\n\r\n        <label className=\"text-sm\">Cols</label>\r\n        <input\r\n          type=\"number\"\r\n          min={1}\r\n          max={12}\r\n          value={colsInput}\r\n          onChange={(e) => setColsInput(Number(e.target.value))}\r\n          className=\"w-20 border rounded p-1 text-sm\"\r\n        />\r\n\r\n        <button\r\n          onClick={() => insertEditableTable(rowsInput, colsInput)}\r\n          className=\"editor-toolbar-btn editor-toolbar-btn-success\"\r\n        >\r\n          Insert Table\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => {\r\n            Swal.fire({\r\n              title: \"Yakin ingin menghapus semua isi editor?\",\r\n              icon: \"warning\",\r\n              showCancelButton: true,\r\n              confirmButtonText: \"Ya, hapus!\",\r\n              cancelButtonText: \"Batal\",\r\n            }).then((result) => {\r\n              if (result.isConfirmed) {\r\n                setContent(\"\");\r\n                quillRef.current?.getEditor().setContents([]);\r\n              }\r\n            });\r\n          }}\r\n          className=\"editor-toolbar-btn editor-toolbar-btn-secondary\"\r\n        >\r\n          Clear\r\n        </button>\r\n      </div>\r\n\r\n      {/* Editor */}\r\n      <div className=\"border rounded-lg w-full h-[70vh] shadow-sm\">\r\n        <ReactQuill\r\n          ref={quillRef}\r\n          theme=\"snow\"\r\n          value={content}\r\n          onChange={setContent}\r\n          className=\"h-full\"\r\n          modules={{\r\n            toolbar: {\r\n              container: [\r\n                [{ header: [1, 2, 3, false] }],\r\n                [\"bold\", \"italic\", \"underline\", \"strike\"],\r\n                [{ list: \"ordered\" }, { list: \"bullet\" }],\r\n                [\"link\", \"image\", \"video\"],\r\n                [{ color: [] }, { background: [] }],\r\n                [{ align: [] }],\r\n                [\"clean\"],\r\n              ],\r\n              handlers: { video: videoHandler },\r\n            },\r\n          }}\r\n        />\r\n      </div>\r\n\r\n      {/* Tombol Simpan */}\r\n      <div className=\"mt-4 flex gap-3\">\r\n        <button\r\n          onClick={handleSave}\r\n          disabled={saving}\r\n          className=\"editor-toolbar-btn editor-toolbar-btn-primary\"\r\n        >\r\n          {saving ? \"Menyimpan...\" : \"Simpan\"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 885, "column": 0}, "map": {"version":3,"sources":["file:///C:/hrisguide/Frontend/src/app/dashboard2/components/AddMenuModal.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:5000/api\";\r\n\r\nexport default function AddMenuModal({ onClose, onSave }) {\r\n  const [categories, setCategories] = useState([]);\r\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\r\n  const [newCategoryName, setNewCategoryName] = useState(\"\");\r\n  const [documentName, setDocumentName] = useState(\"\");\r\n  const [mounted, setMounted] = useState(false);\r\n\r\n  // üîπ Fetch kategori saat modal muncul\r\n  useEffect(() => {\r\n    setMounted(true);\r\n    const fetchCategories = async () => {\r\n      try {\r\n        const res = await axios.get(`${API_URL}/categories`, { withCredentials: true });\r\n        setCategories(res.data.data || []);\r\n      } catch (err) {\r\n        console.error(\"‚ùå Gagal mengambil kategori:\", err);\r\n      }\r\n    };\r\n    fetchCategories();\r\n  }, []);\r\n\r\n  if (!mounted) return null;\r\n\r\n  const handleSubmit = () => {\r\n    // Kasus 1: tambah kategori baru aja\r\n    if (!documentName.trim() && newCategoryName.trim()) {\r\n      onSave(newCategoryName, \"\");\r\n    }\r\n    // Kasus 2: tambah dokumen di kategori baru\r\n    else if (documentName.trim() && newCategoryName.trim()) {\r\n      onSave(newCategoryName, documentName);\r\n    }\r\n    // Kasus 3: tambah dokumen di kategori yang sudah ada\r\n    else if (documentName.trim() && selectedCategory) {\r\n      onSave(selectedCategory, documentName);\r\n    }\r\n\r\n    onClose();\r\n  };\r\n\r\n  return createPortal(\r\n    <div className=\"fixed inset-0 bg-black/40 flex justify-center items-center z-[9999]\">\r\n      <div className=\"bg-white p-6 rounded-lg w-96 shadow-xl\">\r\n        <h3 className=\"text-lg font-semibold mb-3\">Tambah Kategori / Dokumen</h3>\r\n\r\n        {/* Dropdown pilih kategori */}\r\n        <label className=\"block mb-2 text-sm text-gray-700\">Pilih Kategori</label>\r\n        <select\r\n          value={selectedCategory}\r\n          onChange={(e) => setSelectedCategory(e.target.value)}\r\n          className=\"w-full border p-2 rounded mb-4 focus:ring-2 focus:ring-blue-400 focus:outline-none\"\r\n        >\r\n          <option value=\"\">(Buat Kategori Baru)</option>\r\n          {categories.map((cat) => (\r\n            <option key={cat.id} value={cat.name}>\r\n              {cat.name}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        {/* Input nama kategori baru */}\r\n        {!selectedCategory && (\r\n          <>\r\n            <label className=\"block mb-2 text-sm text-gray-700\">\r\n              Nama Kategori Baru\r\n            </label>\r\n            <input\r\n              value={newCategoryName}\r\n              onChange={(e) => setNewCategoryName(e.target.value)}\r\n              className=\"w-full border p-2 rounded mb-4 focus:ring-2 focus:ring-blue-400 focus:outline-none\"\r\n              placeholder=\"Contoh: Employee Management\"\r\n            />\r\n          </>\r\n        )}\r\n\r\n        {/* Input nama dokumen */}\r\n        <label className=\"block mb-2 text-sm text-gray-700\">\r\n          Nama Dokumen (opsional)\r\n        </label>\r\n        <input\r\n          value={documentName}\r\n          onChange={(e) => setDocumentName(e.target.value)}\r\n          className=\"w-full border p-2 rounded mb-4 focus:ring-2 focus:ring-blue-400 focus:outline-none\"\r\n          placeholder=\"Contoh: Employee List\"\r\n        />\r\n\r\n        <div className=\"flex justify-end space-x-2\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-1.5 rounded border border-gray-300 hover:bg-gray-100 text-sm font-medium\"\r\n          >\r\n            Batal\r\n          </button>\r\n          <button\r\n            onClick={handleSubmit}\r\n            className=\"px-4 py-1.5 rounded bg-blue-600 text-white hover:bg-blue-700 text-sm font-medium\"\r\n          >\r\n            Simpan\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.body\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMA,MAAM,UAAU;AAED,SAAS,aAAa,EAAE,OAAO,EAAE,MAAM,EAAE;IACtD,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAC,EAAE;IAC/C,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,IAAA,iNAAQ,EAAC;IACzD,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,iNAAQ,EAAC;IACvD,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,sCAAsC;IACtC,IAAA,kNAAS,EAAC;QACR,WAAW;QACX,MAAM,kBAAkB;YACtB,IAAI;gBACF,MAAM,MAAM,MAAM,gJAAK,CAAC,GAAG,CAAC,GAAG,QAAQ,WAAW,CAAC,EAAE;oBAAE,iBAAiB;gBAAK;gBAC7E,cAAc,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE;YACnC,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,+BAA+B;YAC/C;QACF;QACA;IACF,GAAG,EAAE;IAEL,IAAI,CAAC,SAAS,OAAO;IAErB,MAAM,eAAe;QACnB,oCAAoC;QACpC,IAAI,CAAC,aAAa,IAAI,MAAM,gBAAgB,IAAI,IAAI;YAClD,OAAO,iBAAiB;QAC1B,OAEK,IAAI,aAAa,IAAI,MAAM,gBAAgB,IAAI,IAAI;YACtD,OAAO,iBAAiB;QAC1B,OAEK,IAAI,aAAa,IAAI,MAAM,kBAAkB;YAChD,OAAO,kBAAkB;QAC3B;QAEA;IACF;IAEA,qBAAO,IAAA,4NAAY,gBACjB,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA6B;;;;;;8BAG3C,8OAAC;oBAAM,WAAU;8BAAmC;;;;;;8BACpD,8OAAC;oBACC,OAAO;oBACP,UAAU,CAAC,IAAM,oBAAoB,EAAE,MAAM,CAAC,KAAK;oBACnD,WAAU;;sCAEV,8OAAC;4BAAO,OAAM;sCAAG;;;;;;wBAChB,WAAW,GAAG,CAAC,CAAC,oBACf,8OAAC;gCAAoB,OAAO,IAAI,IAAI;0CACjC,IAAI,IAAI;+BADE,IAAI,EAAE;;;;;;;;;;;gBAOtB,CAAC,kCACA;;sCACE,8OAAC;4BAAM,WAAU;sCAAmC;;;;;;sCAGpD,8OAAC;4BACC,OAAO;4BACP,UAAU,CAAC,IAAM,mBAAmB,EAAE,MAAM,CAAC,KAAK;4BAClD,WAAU;4BACV,aAAY;;;;;;;;8BAMlB,8OAAC;oBAAM,WAAU;8BAAmC;;;;;;8BAGpD,8OAAC;oBACC,OAAO;oBACP,UAAU,CAAC,IAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;oBAC/C,WAAU;oBACV,aAAY;;;;;;8BAGd,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,8OAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;cAMP,SAAS,IAAI;AAEjB","debugId":null}},
    {"offset": {"line": 1063, "column": 0}, "map": {"version":3,"sources":["file:///C:/hrisguide/Frontend/src/app/dashboard2/components/ConfirmModal.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { createPortal } from \"react-dom\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport default function ConfirmModal({ title, message, onClose, onConfirm }) {\r\n  const [mounted, setMounted] = useState(false);\r\n  useEffect(() => setMounted(true), []);\r\n  if (!mounted) return null;\r\n\r\n  return createPortal(\r\n    <div className=\"fixed inset-0 bg-black/40 flex items-center justify-center z-[9999]\">\r\n      <div className=\"bg-white rounded-lg shadow-lg p-6 w-96\">\r\n        <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">{title}</h3>\r\n        <p className=\"text-gray-500 mb-6\">{message}</p>\r\n        <div className=\"flex justify-end gap-3\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-md text-sm font-medium\"\r\n          >\r\n            Batal\r\n          </button>\r\n          <button\r\n            onClick={onConfirm}\r\n            className=\"px-4 py-2 bg-red-500 text-white hover:bg-red-600 rounded-md text-sm font-medium\"\r\n          >\r\n            Hapus\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>,\r\n    document.body\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS,aAAa,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,SAAS,EAAE;IACzE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IACvC,IAAA,kNAAS,EAAC,IAAM,WAAW,OAAO,EAAE;IACpC,IAAI,CAAC,SAAS,OAAO;IAErB,qBAAO,IAAA,4NAAY,gBACjB,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAG,WAAU;8BAA4C;;;;;;8BAC1D,8OAAC;oBAAE,WAAU;8BAAsB;;;;;;8BACnC,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;sCAGD,8OAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;cAMP,SAAS,IAAI;AAEjB","debugId":null}},
    {"offset": {"line": 1142, "column": 0}, "map": {"version":3,"sources":["file:///C:/hrisguide/Frontend/src/app/dashboard2/page.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport Sidebar from \"./components/Sidebar\";\r\nimport DynamicContent from \"./components/DynamicContent\";\r\nimport AddMenuModal from \"./components/AddMenuModal\";\r\nimport ConfirmModal from \"./components/ConfirmModal\";\r\nimport \"./styles/dashboard.css\";\r\nimport \"react-quill-new/dist/quill.snow.css\";\r\nimport { LogOut } from \"lucide-react\";\r\n\r\nconst API_URL = \"http://localhost:5000/api\";\r\naxios.defaults.withCredentials = true;\r\n\r\nexport default function DashboardPage() {\r\n  const [selected, setSelected] = useState({ menu: null, submenu: null });\r\n  const [showAddModal, setShowAddModal] = useState(false);\r\n  const [showConfirmModal, setShowConfirmModal] = useState(false);\r\n  const [targetDelete, setTargetDelete] = useState(null);\r\n  const [menuData, setMenuData] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [isAuth, setIsAuth] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      try {\r\n        const res = await axios.get(`${API_URL}/auth/check`);\r\n        if (res.data?.success) {\r\n          setIsAuth(true);\r\n          await fetchData();\r\n        } else {\r\n          window.location.href = \"/login\";\r\n        }\r\n      } catch {\r\n        window.location.href = \"/login\";\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    checkAuth();\r\n  }, []);\r\n\r\n  // üß© ambil kategori & dokumen\r\n  const fetchData = async () => {\r\n    try {\r\n      const [catRes, docRes] = await Promise.all([\r\n        axios.get(`${API_URL}/categories`),\r\n        axios.get(`${API_URL}/documents`),\r\n      ]);\r\n\r\n      const categories = catRes.data.data;\r\n      const documents = docRes.data.data;\r\n\r\n      const combined = categories.map((cat) => ({\r\n        id: cat.id,\r\n        title: cat.name,\r\n        submenus: documents\r\n          .filter((doc) => doc.categoryId === cat.id)\r\n          .map((doc) => ({ id: doc.id, title: doc.title })),\r\n      }));\r\n\r\n      setMenuData(combined);\r\n    } catch (err) {\r\n      console.error(\"‚ùå Gagal fetch data:\", err);\r\n      if (err.response?.status === 401) {\r\n        alert(\"Sesi login habis, silakan login ulang.\");\r\n        window.location.href = \"/login\";\r\n      }\r\n    }\r\n  };\r\n\r\n  // üÜï FIX: tambah menu/submenu baru dan pilih otomatis\r\n  const handleAddMenu = async (menuName, submenuName) => {\r\n    try {\r\n      let categoryId = null;\r\n      let newCategory = null;\r\n      let newDoc = null;\r\n\r\n      if (menuName.trim()) {\r\n        const existingCategory = menuData.find(\r\n          (cat) => cat.title.toLowerCase() === menuName.toLowerCase()\r\n        );\r\n\r\n        if (existingCategory) {\r\n          categoryId = existingCategory.id;\r\n          newCategory = existingCategory;\r\n        } else {\r\n          const catRes = await axios.post(`${API_URL}/categories`, { name: menuName });\r\n          newCategory = catRes.data.data;\r\n          categoryId = newCategory.id;\r\n        }\r\n      }\r\n\r\n      if (submenuName.trim()) {\r\n        if (!categoryId) return console.warn(\"‚ö†Ô∏è Tidak ada kategori untuk dokumen ini!\");\r\n        const docRes = await axios.post(`${API_URL}/documents`, {\r\n          title: submenuName,\r\n          categoryId,\r\n        });\r\n        newDoc = docRes.data.data;\r\n      }\r\n\r\n      await fetchData();\r\n\r\n      // ‚úÖ Otomatis pilih dokumen baru (biar gak nyangkut di dokumen lama)\r\n      if (newCategory && newDoc) {\r\n        setSelected({\r\n          menu: { id: newCategory.id, title: newCategory.name },\r\n          submenu: { id: newDoc.id, title: newDoc.title },\r\n        });\r\n\r\n        console.log(\"üü¢ Dokumen baru terpilih:\", newDoc.id, \"-\", newDoc.title);\r\n      }\r\n\r\n      setShowAddModal(false);\r\n    } catch (err) {\r\n      console.error(\"‚ùå Gagal tambah data:\", err);\r\n    }\r\n  };\r\n\r\n  const handleRename = async (target, newTitle) => {\r\n    try {\r\n      if (target.type === \"menu\") {\r\n        await axios.put(`${API_URL}/categories/${target.id}`, { name: newTitle });\r\n      } else {\r\n        await axios.put(`${API_URL}/documents/${target.id}`, { title: newTitle });\r\n      }\r\n      await fetchData();\r\n    } catch (err) {\r\n      console.error(\"‚ùå Gagal rename:\", err);\r\n    }\r\n  };\r\n\r\n  const executeDelete = async () => {\r\n  try {\r\n    if (targetDelete.type === \"menu\") {\r\n      await axios.delete(`${API_URL}/categories/${targetDelete.id}`);\r\n    } else {\r\n      await axios.delete(`${API_URL}/documents/${targetDelete.id}`);\r\n    }\r\n\r\n    setShowConfirmModal(false);\r\n\r\n    // üßπ Reset dokumen/halaman aktif biar gak nyangkut di data yang udah kehapus\r\n    setSelected({ menu: null, submenu: null });\r\n\r\n    await fetchData();\r\n  } catch (err) {\r\n    console.error(\"‚ùå Gagal hapus:\", err);\r\n  }\r\n};\r\n\r\n  const confirmDelete = (target) => {\r\n    setTargetDelete(target);\r\n    setShowConfirmModal(true);\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await axios.post(`${API_URL}/auth/logout`);\r\n      setIsAuth(false);\r\n      window.location.href = \"/login\";\r\n    } catch (err) {\r\n      console.error(\"‚ùå Gagal logout:\", err);\r\n    }\r\n  };\r\n\r\n  // üß† DEBUG LOG: pantau dokumen terpilih\r\n  useEffect(() => {\r\n    if (selected?.submenu?.id) {\r\n      console.log(\"üìÑ Sekarang dokumen aktif:\", selected.submenu.id);\r\n    }\r\n  }, [selected]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex flex-col justify-center items-center h-screen w-screen bg-gray-50\">\r\n        <div className=\"w-12 h-12 border-4 border-blue-500 border-dashed rounded-full animate-spin\"></div>\r\n        <p className=\"mt-4 text-gray-700 text-lg\">Memeriksa sesi login...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!isAuth) return null;\r\n\r\n  return (\r\n    <div className=\"dashboard-layout\">\r\n      <Sidebar\r\n        menuData={menuData}\r\n        selected={selected}\r\n        setSelected={setSelected}\r\n        onAddMenu={() => setShowAddModal(true)}\r\n        onDelete={confirmDelete}\r\n        onRename={handleRename}\r\n        onLogout={handleLogout}\r\n      />\r\n\r\n      <main className=\"dashboard-main\">\r\n        <header className=\"dashboard-header mb-6 flex justify-between items-center\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-gray-800\">Dashboard Admin</h1>\r\n            <p className=\"text-gray-600\">Kelola kategori dan konten dokumentasi HRMS</p>\r\n          </div>\r\n        </header>\r\n\r\n        <DynamicContent selected={selected} />\r\n\r\n        {showAddModal && (\r\n          <AddMenuModal\r\n            onClose={() => setShowAddModal(false)}\r\n            onSave={handleAddMenu}\r\n          />\r\n        )}\r\n\r\n        {showConfirmModal && (\r\n          <ConfirmModal\r\n            onClose={() => setShowConfirmModal(false)}\r\n            onConfirm={executeDelete}\r\n            title=\"Hapus Item\"\r\n            message=\"Apakah kamu yakin ingin menghapus item ini?\"\r\n          />\r\n        )}\r\n      </main>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}