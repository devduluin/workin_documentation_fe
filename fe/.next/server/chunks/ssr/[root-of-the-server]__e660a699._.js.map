{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 100, "column": 0}, "map": {"version":3,"sources":["file:///C:/hrisguide/Frontend/src/app/dashboard/login/page.js"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport axios from \"axios\";\r\nimport { Eye, EyeOff } from \"lucide-react\";\r\nimport \"../globals.css\";\r\n\r\nexport default function LoginPage() {\r\n  const router = useRouter();\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setError(\"\");\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        \"http://localhost:5000/api/auth/login\",\r\n        { username, password },\r\n        { withCredentials: true }\r\n      );\r\n\r\n      console.log(\"✅ Login response:\", response.data);\r\n\r\n      if (response.data.success) {\r\n        console.log(\"✅ Redirecting to /dashboard...\");\r\n        router.push(\"/dashboard\");\r\n      } else {\r\n        console.log(\"❌ Login gagal:\", response.data.message);\r\n        setError(response.data.message || \"Login gagal\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"❌ Login error:\", error);\r\n      setError(\"Login gagal, periksa username/password atau koneksi server!\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex flex-col min-h-screen bg-gray-100\">\r\n      {/* Header Banner */}\r\n      <div className=\"bg-[#052766] text-white py-8 text-center\">\r\n        <div className=\"flex flex-col items-center\">\r\n          <img src=\"/logo-duluin.png\" alt=\"Duluin HRMS\" className=\"h-12 mb-2\" />\r\n          <h1 className=\"text-3xl font-bold\">Portal Dokumentasi Teknis</h1>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Form di tengah */}\r\n      <div className=\"flex flex-1 items-center justify-center\">\r\n        <form onSubmit={handleLogin} className=\"login-form flex flex-col\">\r\n          {error && <p className=\"error-message\">{error}</p>}\r\n\r\n          <label className=\"block mb-2 font-semibold\">Username</label>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Masukkan username\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            className=\"input-field\"\r\n            required\r\n          />\r\n\r\n          <label className=\"block mb-2 font-semibold\">Password</label>\r\n          <div className=\"relative mb-4\">\r\n            <input\r\n              type={showPassword ? \"text\" : \"password\"}\r\n              placeholder=\"Masukkan password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n              className=\"input-field pr-10\"\r\n              required\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowPassword(!showPassword)}\r\n              className=\"password-toggle\"\r\n            >\r\n              {showPassword ? <EyeOff size={20} /> : <Eye size={20} />}\r\n            </button>\r\n          </div>\r\n\r\n          {/* Tombol Login */}\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn-login flex items-center justify-center mb-6\"\r\n            disabled={loading}\r\n          >\r\n            {loading ? (\r\n              <div className=\"flex items-center gap-2\">\r\n                <svg\r\n                  className=\"animate-spin h-5 w-5 text-black\"\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  fill=\"none\"\r\n                  viewBox=\"0 0 24 24\"\r\n                >\r\n                  <circle\r\n                    className=\"opacity-25\"\r\n                    cx=\"12\"\r\n                    cy=\"12\"\r\n                    r=\"10\"\r\n                    stroke=\"currentColor\"\r\n                    strokeWidth=\"4\"\r\n                  ></circle>\r\n                  <path\r\n                    className=\"opacity-75\"\r\n                    fill=\"currentColor\"\r\n                    d=\"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z\"\r\n                  ></path>\r\n                </svg>\r\n                Loading...\r\n              </div>\r\n            ) : (\r\n              \"Login\"\r\n            )}\r\n          </button>\r\n\r\n          {/* Text Register */}\r\n          <div className=\"mt-auto text-center text-sm\">\r\n            Belum punya akun?{\" \"}\r\n            <a href=\"/register\" className=\"text-blue-600 hover:underline font-medium\">\r\n              Register di sini\r\n            </a>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AACA;AACA;AACA;AACA;AAAA;AAJA;;;;;;;AAOe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iNAAQ,EAAC;IACzC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,iNAAQ,EAAC;IACjD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IACnC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,cAAc,OAAO;QACzB,EAAE,cAAc;QAChB,WAAW;QACX,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,gJAAK,CAAC,IAAI,CAC/B,wCACA;gBAAE;gBAAU;YAAS,GACrB;gBAAE,iBAAiB;YAAK;YAG1B,QAAQ,GAAG,CAAC,qBAAqB,SAAS,IAAI;YAE9C,IAAI,SAAS,IAAI,CAAC,OAAO,EAAE;gBACzB,QAAQ,GAAG,CAAC;gBACZ,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,QAAQ,GAAG,CAAC,kBAAkB,SAAS,IAAI,CAAC,OAAO;gBACnD,SAAS,SAAS,IAAI,CAAC,OAAO,IAAI;YACpC;QACF,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,kBAAkB;YAChC,SAAS;QACX,SAAU;YACR,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BAEb,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;4BAAI,KAAI;4BAAmB,KAAI;4BAAc,WAAU;;;;;;sCACxD,8OAAC;4BAAG,WAAU;sCAAqB;;;;;;;;;;;;;;;;;0BAKvC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAK,UAAU;oBAAa,WAAU;;wBACpC,uBAAS,8OAAC;4BAAE,WAAU;sCAAiB;;;;;;sCAExC,8OAAC;4BAAM,WAAU;sCAA2B;;;;;;sCAC5C,8OAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4BAC3C,WAAU;4BACV,QAAQ;;;;;;sCAGV,8OAAC;4BAAM,WAAU;sCAA2B;;;;;;sCAC5C,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,MAAM,eAAe,SAAS;oCAC9B,aAAY;oCACZ,OAAO;oCACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oCAC3C,WAAU;oCACV,QAAQ;;;;;;8CAEV,8OAAC;oCACC,MAAK;oCACL,SAAS,IAAM,gBAAgB,CAAC;oCAChC,WAAU;8CAET,6BAAe,8OAAC,oNAAM;wCAAC,MAAM;;;;;6DAAS,8OAAC,uMAAG;wCAAC,MAAM;;;;;;;;;;;;;;;;;sCAKtD,8OAAC;4BACC,MAAK;4BACL,WAAU;4BACV,UAAU;sCAET,wBACC,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCACC,WAAU;wCACV,OAAM;wCACN,MAAK;wCACL,SAAQ;;0DAER,8OAAC;gDACC,WAAU;gDACV,IAAG;gDACH,IAAG;gDACH,GAAE;gDACF,QAAO;gDACP,aAAY;;;;;;0DAEd,8OAAC;gDACC,WAAU;gDACV,MAAK;gDACL,GAAE;;;;;;;;;;;;oCAEA;;;;;;uCAIR;;;;;;sCAKJ,8OAAC;4BAAI,WAAU;;gCAA8B;gCACzB;8CAClB,8OAAC;oCAAE,MAAK;oCAAY,WAAU;8CAA4C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQtF","debugId":null}}]
}